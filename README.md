
# HTN Plan Verification as Planning

This repository contains code to verify HTN plans. I.e., to decide whether or not a given sequence of actions is a solution for a given HTN planning problem. It needs two files as input:

* A file with the HTN model grounded by the PANDA grounder
* A file with the solution to verify

Call the program with these two files, e.g., "verificationAsPlanning [model-file-name] [plan-file-name]". Examples of the files can be found in the folder "example-input" in this repository.
The program does a reachability analysis (which might solve the verification task and return that it is unsolvable) and writes an HTN planning problem afterwards, which has a solution if and only if the action sequence is a valid solution for the input planning problem. This file also has the format as generated by the PANDA grounder. You can, e.g., use a solver from the PANDA framework to solve it. Examples for the output planning problem and the output of PANDA's progression search when solving it are given in the "example-input" folder.

The approach has been presented at the ICAPS conference in 2022. If you use the code, please cite the respective paper:

    @inproceedings{Hoeller22,
      author    = {Daniel H{\"{o}}ller and Julia Wichlacz and Pascal Bercher and Gregor Behnke},
      title     = {Compiling {HTN} Plan Verification Problems into {HTN} Planning Problems},
      booktitle = {Proceedings of the 32nd International Conference on Automated Planning and Scheduling (ICAPS)},
      publisher = {{AAAI} Press},
      year      = {2022}
    }

So far, the approach has been used by the TOAD system (see [1]).
 1. Daniel HÃ¶ller. Translating Totally Ordered HTN Planning Problems to Classical Planning Problems Using Regular Approximation of Context-Free Languages. In: Proceedings of the 31st International Conference on Automated Planning and Scheduling (ICAPS). AAAI Press, 2021.
